<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BP Bank Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    
    <link rel="stylesheet" href="index.css">
</head>
<body>
<div class="dashboard">
    <div class="main-content">
        <section class="header">
            <h1>Visualized Capitec Statement</h1>
            <div>
                <input hidden type="file" id="csvFile" accept=".csv, .txt">
                <button id="uploadButton" class="button">Upload</button>
            </div>
        </section>
        <div id="banner" class="floating-banner two-col-grid center-text">
            <div>Financial Report for <span id="reportDate"></span></div>
            <div class="input-row">
                <input type="date" id="startDateInput"/>
                TO
                <input type="date" id="endDateInput"/>
                <button id="clearDates" class="hidden button outlined">Clear</button>
            </div>
        </div>
        <div id="data-view" class="hidden">
            <section class="card-grid">
                <div class="card">
                    <h2>Total Balance</h2>
                    <div class="amount" id="totalBalance">R0.00</div>
                    <div class="change" id="balanceChange">0%</div>
                </div>
                <div class="card">
                    <h2>Income</h2>
                    <div class="amount" id="totalIncome">R0.00</div>
                    <div class="change" id="incomeChange">0%</div>
                </div>
                <div class="card">
                    <h2>Expenses</h2>
                    <div class="amount" id="totalExpenses">R0.00</div>
                    <div class="change" id="expensesChange">0%</div>
                </div>
            </section>
            <section class="two-col-grid">
                <div class="chart">
                    <h3>Expenses by Category</h3>
                    <canvas id="expensesChart"></canvas>
                </div>
                <div class="chart">
                    <h3>Income by Category</h3>
                    <canvas id="incomesChart"></canvas>
                </div>
            </section>
            <section class="chart">
                <h3>Balance Trend</h3>
                <canvas id="balanceChart"></canvas>
            </section>
            <section class="transactions">
                <h3>Recent Transactions</h3>
                <ul class="transaction-list" id="transactionList"></ul>
            </section>
            <section class="two-col-grid transaction-stats">
                <div class="transactions">
                    <h3>Top Income</h3>
                    <ul class="transaction-list" id="topIncomes"></ul>
                </div>
                <div class="transactions">
                    <h3>Top Expenses</h3>
                    <ul class="transaction-list" id="topExpenses"></ul>
                </div>
            </section>
        </div>
        <section id="no-data-view" class="center-text">
            <h2>No Data Available</h2>
            <p>Upload a CSV file to view your financial data</p>
        </section>
    </div>
</div>
<script src="index.js"></script>
</body>
</html>